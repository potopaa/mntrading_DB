{
  "name": "MNTrading - Job B (5m ingest + features + train + publish + inference + report)",
  "max_concurrent_runs": 1,
  "tags": { "project": "mntrading" },
  "format": "MULTI_TASK",
  "tasks": [
    {
      "task_key": "03_ingest_5m",
      "notebook_task": { "notebook_path": "/Workspace/Users/potopaa@gmail.com/mntrading/03_ingest_5m.py" },
      "compute": { "spec": { "serverless": {} } },
      "timeout_seconds": 7200,
      "max_retries": 1
    },
    {
      "task_key": "04_build_features",
      "depends_on": [{ "task_key": "03_ingest_5m" }],
      "notebook_task": { "notebook_path": "/Workspace/Users/potopaa@gmail.com/mntrading/04_build_features.py" },
      "compute": { "spec": { "serverless": {} } },
      "timeout_seconds": 7200,
      "max_retries": 1
    },
    {
      "task_key": "05_build_dataset",
      "depends_on": [{ "task_key": "04_build_features" }],
      "notebook_task": { "notebook_path": "/Workspace/Users/potopaa@gmail.com/mntrading/05_build_dataset.py" },
      "compute": { "spec": { "serverless": {} } },
      "timeout_seconds": 7200,
      "max_retries": 1
    },
    {
      "task_key": "06_train_models",
      "depends_on": [{ "task_key": "05_build_dataset" }],
      "notebook_task": { "notebook_path": "/Workspace/Users/potopaa@gmail.com/mntrading/06_train_models.py" },
      "compute": { "spec": { "serverless": {} } },
      "timeout_seconds": 7200,
      "max_retries": 1
    },
    {
      "task_key": "07_publish_file_based",
      "depends_on": [{ "task_key": "06_train_models" }],
      "notebook_task": { "notebook_path": "/Workspace/Users/potopaa@gmail.com/mntrading/07_evaluate_register.py" },
      "compute": { "spec": { "serverless": {} } },
      "timeout_seconds": 7200,
      "max_retries": 1
    },
    {
      "task_key": "08_batch_inference",
      "depends_on": [{ "task_key": "07_publish_file_based" }],
      "notebook_task": { "notebook_path": "/Workspace/Users/potopaa@gmail.com/mntrading/08_batch_inference.py" },
      "compute": { "spec": { "serverless": {} } },
      "timeout_seconds": 7200,
      "max_retries": 1
    },
    {
      "task_key": "09_portfolio_report",
      "depends_on": [{ "task_key": "08_batch_inference" }],
      "notebook_task": { "notebook_path": "/Workspace/Users/potopaa@gmail.com/mntrading/09_portfolio_report.py" },
      "compute": { "spec": { "serverless": {} } },
      "timeout_seconds": 7200,
      "max_retries": 1
    }
  ]
}
